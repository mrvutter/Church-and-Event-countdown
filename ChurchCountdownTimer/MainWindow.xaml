<Window x:Class="ChurchCountdownTimer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ChurchCountdownTimer"
        mc:Ignorable="d"
        Title="Church Countdown Timer" Height="700" Width="1000"
        WindowStartupLocation="CenterScreen"
        WindowState="Normal">
    
    <Window.Resources>
        <!-- Styles -->
        <Style x:Key="ModernButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#4A90E2"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="20,15"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center"
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#357ABD"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#2C5F9A"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="PresetButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#6C757D"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,10"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center"
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#5A6268"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#495057"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Color Resources -->
        <SolidColorBrush x:Key="TimerTextBrush" Color="White"/>
        <SolidColorBrush x:Key="TimerBackgroundBrush" Color="Black"/>
        
        <!-- Fade Animations -->
        <Storyboard x:Key="FadeInAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" 
                           From="0.0" To="1.0" 
                           Duration="0:0:0.3"/>
        </Storyboard>
        
        <Storyboard x:Key="FadeOutAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" 
                           From="1.0" To="0.0" 
                           Duration="0:0:0.3"/>
        </Storyboard>
    </Window.Resources>

    <Grid>
        <!-- Setup Screen -->
        <Grid x:Name="SetupScreen" Background="#F8F9FA">
            <ScrollViewer VerticalScrollBarVisibility="Auto" 
                         HorizontalScrollBarVisibility="Disabled"
                         Padding="40">
                <StackPanel MaxWidth="600" 
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center">
                    
                    <!-- Header -->
                    <TextBlock Text="⛪ Church Countdown Timer" 
                              FontSize="36" 
                              FontWeight="Bold" 
                              HorizontalAlignment="Center" 
                              Margin="0,0,0,10"
                              Foreground="#2C3E50"/>
                    
                    <TextBlock Text="Professional timer for speakers and events" 
                              FontSize="16" 
                              HorizontalAlignment="Center" 
                              Margin="0,0,0,40"
                              Foreground="#6C757D"/>

                    <!-- Timer Input Section -->
                    <Border Background="White" 
                           CornerRadius="12" 
                           Padding="30" 
                           Margin="0,0,0,30">
                        <Border.Effect>
                            <DropShadowEffect Color="Gray" BlurRadius="10" ShadowDepth="3" Opacity="0.3"/>
                        </Border.Effect>
                        <StackPanel>
                            <TextBlock Text="Set Timer" 
                                      FontSize="24" 
                                      FontWeight="SemiBold" 
                                      Margin="0,0,0,20"
                                      Foreground="#2C3E50"/>
                            
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <StackPanel Grid.Column="0" Margin="0,0,10,0">
                                    <TextBlock Text="Hours" FontWeight="Medium" Margin="0,0,0,5" Foreground="#495057"/>
                                    <TextBox x:Name="HoursInput" 
                                            Text="0" 
                                            FontSize="18" 
                                            TextAlignment="Center"
                                            Padding="10"
                                            BorderBrush="#DEE2E6"
                                            BorderThickness="2"
                                            TextChanged="TimeInput_TextChanged"/>
                                </StackPanel>
                                
                                <StackPanel Grid.Column="1" Margin="5,0">
                                    <TextBlock Text="Minutes" FontWeight="Medium" Margin="0,0,0,5" Foreground="#495057"/>
                                    <TextBox x:Name="MinutesInput" 
                                            Text="5" 
                                            FontSize="18" 
                                            TextAlignment="Center"
                                            Padding="10"
                                            BorderBrush="#DEE2E6"
                                            BorderThickness="2"
                                            TextChanged="TimeInput_TextChanged"/>
                                </StackPanel>
                                
                                <StackPanel Grid.Column="2" Margin="10,0,0,0">
                                    <TextBlock Text="Seconds" FontWeight="Medium" Margin="0,0,0,5" Foreground="#495057"/>
                                    <TextBox x:Name="SecondsInput" 
                                            Text="0" 
                                            FontSize="18" 
                                            TextAlignment="Center"
                                            Padding="10"
                                            BorderBrush="#DEE2E6"
                                            BorderThickness="2"
                                            TextChanged="TimeInput_TextChanged"/>
                                </StackPanel>
                            </Grid>
                            
                            <TextBlock x:Name="TimerDisplay" 
                                      Text="05:00" 
                                      FontSize="48" 
                                      FontWeight="Bold" 
                                      HorizontalAlignment="Center" 
                                      Margin="0,20,0,20"
                                      Foreground="#2C3E50"
                                      Visibility="Visible"/>
                            
                            <!-- Button Container -->
                            <StackPanel Orientation="Horizontal" 
                                       HorizontalAlignment="Center"
                                       Margin="0,10">
                                <Button x:Name="StartTimerButton" 
                                       Content="▶ Start Timer" 
                                       Style="{StaticResource ModernButtonStyle}"
                                       Click="StartTimer_Click"
                                       MinWidth="200"
                                       Height="50"
                                       FontSize="16"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Color Customization Section -->
                    <Border Background="White" 
                           CornerRadius="12" 
                           Padding="30" 
                           Margin="0,0,0,30">
                        <Border.Effect>
                            <DropShadowEffect Color="Gray" BlurRadius="10" ShadowDepth="3" Opacity="0.3"/>
                        </Border.Effect>
                        <StackPanel>
                            <TextBlock Text="Color Customization" 
                                      FontSize="24" 
                                      FontWeight="SemiBold" 
                                      Margin="0,0,0,20"
                                      Foreground="#2C3E50"/>
                            
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <StackPanel Grid.Column="0" Margin="0,0,10,0">
                                    <TextBlock Text="Timer Color" 
                                              FontWeight="Medium" 
                                              Margin="0,0,0,10" 
                                              Foreground="#495057"/>
                                    <Button x:Name="TimerColorButton" 
                                           Content="🎨 Choose Color" 
                                                                                      Click="TimerColorButton_Click"
                                           Background="White"
                                           BorderBrush="#DEE2E6"
                                           BorderThickness="2"
                                           Padding="15"
                                           HorizontalAlignment="Center"/>
                                </StackPanel>
                                
                                <StackPanel Grid.Column="1" Margin="10,0,0,0">
                                    <TextBlock Text="Background Color" 
                                              FontWeight="Medium" 
                                              Margin="0,0,0,10" 
                                              Foreground="#495057"/>
                                    <Button x:Name="BackgroundColorButton" 
                                           Content="🎨 Choose Color" 
                                                                                      Click="BackgroundColorButton_Click"
                                           Background="Black"
                                           Foreground="White"
                                           BorderBrush="#DEE2E6"
                                           BorderThickness="2"
                                           Padding="15"
                                           HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Quick Presets -->
                    <Border Background="White" 
                           CornerRadius="12" 
                           Padding="30" 
                           Margin="0,0,0,30">
                        <Border.Effect>
                            <DropShadowEffect Color="Gray" BlurRadius="10" ShadowDepth="3" Opacity="0.3"/>
                        </Border.Effect>
                        <StackPanel>
                            <TextBlock Text="Quick Presets" 
                                      FontSize="24" 
                                      FontWeight="SemiBold" 
                                      Margin="0,0,0,20"
                                      Foreground="#2C3E50"/>
                            
                            <WrapPanel HorizontalAlignment="Center">
                                <Button Content="5 min" 
                                       Click="Preset5_Click" 
                                       Style="{StaticResource PresetButtonStyle}"/>
                                <Button Content="10 min" 
                                       Click="Preset10_Click" 
                                       Style="{StaticResource PresetButtonStyle}"/>
                                <Button Content="15 min" 
                                       Click="Preset15_Click" 
                                       Style="{StaticResource PresetButtonStyle}"/>
                                <Button Content="30 min" 
                                       Click="Preset30_Click" 
                                       Style="{StaticResource PresetButtonStyle}"/>
                            </WrapPanel>
                        </StackPanel>
                    </Border>
                    
                    <!-- Instructions -->
                    <Border Background="#E7F3FF" 
                           CornerRadius="8" 
                           Padding="20" 
                           Margin="0,0,0,20">
                        <StackPanel>
                            <TextBlock Text="💡 Instructions" 
                                      FontSize="18" 
                                      FontWeight="SemiBold" 
                                      Margin="0,0,0,10"
                                      Foreground="#0066CC"/>
                            <TextBlock Foreground="#495057" TextWrapping="Wrap">
                                <Run Text="• Press "/>
                                <Run Text="SPACE" FontWeight="Bold"/>
                                <Run Text=" to start/pause timer"/>
                                <LineBreak/>
                                <Run Text="• Press "/>
                                <Run Text="A" FontWeight="Bold"/>
                                <Run Text=" to add 5 minutes"/>
                                <LineBreak/>
                                <Run Text="• Press "/>
                                <Run Text="ESCAPE" FontWeight="Bold"/>
                                <Run Text=" to return to setup"/>
                                <LineBreak/>
                                <Run Text="• Controls will fade out after 3 seconds in fullscreen"/>
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Grid>

        <!-- Timer Screen (Fullscreen) -->
        <Grid x:Name="TimerScreen" 
              Background="{StaticResource TimerBackgroundBrush}" 
              Visibility="Collapsed">
            
            <!-- Main Timer Display -->
            <Viewbox Stretch="Uniform" Margin="20">
                <TextBlock x:Name="FullscreenTimerDisplay" 
                          Text="05:00" 
                          FontFamily="Segoe UI"
                          FontSize="800"
                          FontWeight="Bold"
                          Foreground="{StaticResource TimerTextBrush}"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Center"/>
            </Viewbox>
            
            <!-- Control Buttons (Will fade out) -->
            <StackPanel x:Name="TimerControls" 
                       Orientation="Horizontal" 
                       HorizontalAlignment="Center" 
                       VerticalAlignment="Bottom" 
                       Margin="0,0,0,100"
                       Opacity="0.0">
                
                <Button x:Name="ReturnButton" 
                       Content="← Return" 
                       Click="ReturnButton_Click"
                       Style="{StaticResource ModernButtonStyle}"
                       Background="#DC3545"
                       Margin="0,0,20,0"/>
                
                <Button x:Name="AddTimeButton" 
                       Content="+5 min" 
                       Click="AddTime_Click"
                       Style="{StaticResource ModernButtonStyle}"
                       Background="#28A745"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
